{{ define "head" }}
{{ end }}

{{ define "nav" }}
{{ if .Param "latestPreviewVersion" }}
{{ $preview_url := printf "https://download.librepcb.org/releases/%s" (.Param "latestPreviewVersion") }}
{{ $windows_installer := printf "librepcb-installer-%s-windows-x86_64.exe" (.Param "latestPreviewVersion") }}
{{ $windows_zip := printf "librepcb-%s-windows-x86_64.zip" (.Param "latestPreviewVersion") }}
{{ $macos_intel := printf "librepcb-%s-mac-x86_64.dmg" (.Param "latestPreviewVersion") }}
{{ $macos_arm64 := printf "librepcb-%s-mac-arm64.dmg" (.Param "latestPreviewVersion") }}
{{ $linux_appimage := printf "librepcb-%s-linux-x86_64.AppImage" (.Param "latestPreviewVersion") }}
{{ $linux_tgz := printf "librepcb-%s-linux-x86_64.tar.gz" (.Param "latestPreviewVersion") }}
{{ $source_file := printf "librepcb-%s-source.zip" (.Param "latestPreviewVersion") }}
<div class="mt-3 pb-0 alert alert-success d-block mx-4 mx-md-0">
  <h5 class="alert-heading">
    <i class="fa-solid fa-angle-right"></i>
    Preview {{ .Param "latestPreviewVersion"}} available!
  </h5>
  <p>
    If you like to try the latest preview version, download it as a portable
    package or build the sources from the Git tag
    <code>{{ .Param "latestPreviewVersion" }}</code>:
  </p>
  <p>
    <li class="list-group-item text-truncate">
      <i class="fa-brands fa-windows"></i>
      <a href="{{ printf "%s/%s" $preview_url $windows_installer }}"
          class="small link-dark">
        {{ $windows_installer }}
      </a>
    </li>
    <li class="list-group-item text-truncate">
      <i class="fa-brands fa-windows"></i>
      <a href="{{ printf "%s/%s" $preview_url $windows_zip }}"
          class="small link-dark">
        {{ $windows_zip }}
      </a>
    </li>
    <li class="list-group-item text-truncate">
      <i class="fa-brands fa-apple"></i>
      <a href="{{ printf "%s/%s" $preview_url $macos_intel }}"
          class="small link-dark">
        {{ $macos_intel }}
      </a>
    </li>
    <li class="list-group-item text-truncate">
      <i class="fa-brands fa-apple"></i>
      <a href="{{ printf "%s/%s" $preview_url $macos_arm64 }}"
          class="small link-dark">
        {{ $macos_arm64 }}
      </a>
    </li>
    <li class="list-group-item text-truncate">
      <i class="fa-brands fa-linux"></i>
      <a href="{{ printf "%s/%s" $preview_url $linux_appimage }}"
          class="small link-dark">
        {{ $linux_appimage }}
      </a>
    </li>
    <li class="list-group-item text-truncate">
      <i class="fa-brands fa-linux"></i>
      <a href="{{ printf "%s/%s" $preview_url $linux_tgz }}"
          class="small link-dark">
        {{ $linux_tgz }}
      </a>
    </li>
    <li class="list-group-item text-truncate">
      <i class="fa-solid fa-code"></i>
      <a href="{{ printf "%s/%s" $preview_url $source_file }}"
          class="small link-dark">
        {{ $source_file }}
      </a>
    </li>
  </p>
  <p>
    Note that we recommend to create a backup of your projects before opening
    them with this preview version. For details, check out the release notes
    <a href="{{ relref . (.Param "latestPreviewBlogPost") }}">here</a>.
  </p>
  <p>
    And please <a href="{{ relref . "help/help/index.adoc" }}">let us know
    your feedback</a>!
  </p>
  <hr/>
  <p class="d-inline-flex gap-1">
    <a data-bs-toggle="collapse" href="#knownIssues" aria-expanded="false"
       aria-controls="knownIssues" class="link-dark">
      <i class="fa-solid fa-caret-down"></i>
      Known Issues
    </a>
  </p>
  <div class="collapse text-dark small" id="knownIssues">
    <p>
      The following limitations and issues are known:
    </p>
    <ul>
      <li>No global main menu on macOS</li>
      <li>No light color theme</li>
      <li>Slight mouse cursor flickering</li>
      <li>Slightly pixelated graphics on HiDPI screen</li>
      <li>See the complete list <a href="https://github.com/LibrePCB/LibrePCB/issues/1655">here</a></li>
    </ul>
  </div>
</div>
{{ end }}
{{ end }}
